{
  "createdAt": "2025-08-07T15:21:20.617Z",
  "updatedAt": "2025-08-07T15:24:33.000Z",
  "id": "Dz5u5qjKbzCEjqAH",
  "name": "UYSP Bulk Lead Import Processor",
  "active": false,
  "isArchived": true,
  "nodes": [
    {
      "id": "airtable-trigger",
      "name": "Lead Import Trigger",
      "type": "n8n-nodes-base.airtableTrigger",
      "typeVersion": 1,
      "position": [
        200,
        400
      ],
      "parameters": {
        "base": {
          "__rl": true,
          "mode": "id",
          "value": "appuBf0fTe8tp8ZaF"
        },
        "table": {
          "__rl": true,
          "mode": "id",
          "value": "tbllHCB4MaeBkZYPt"
        },
        "triggerField": "processing_status",
        "additionalFields": {}
      }
    },
    {
      "id": "filter-pending",
      "name": "Filter Pending Only",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 1,
      "position": [
        400,
        400
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.fields.processing_status}}",
              "operation": "equal",
              "value2": "Pending"
            }
          ]
        }
      }
    },
    {
      "id": "mark-processing",
      "name": "Mark as Processing",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2,
      "position": [
        600,
        400
      ],
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "mode": "id",
          "value": "appuBf0fTe8tp8ZaF"
        },
        "table": {
          "__rl": true,
          "mode": "id",
          "value": "tbllHCB4MaeBkZYPt"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "processing_status": "Processing"
          }
        },
        "options": {}
      }
    },
    {
      "id": "field-mapper",
      "name": "Bulk Field Mapper",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        800,
        400
      ],
      "parameters": {
        "jsCode": "// Bulk Lead Field Mapper - Converts Airtable import to webhook format\nconst importRecord = $json.fields;\n\n// Create normalized webhook payload from Airtable import fields\nconst webhookPayload = {};\n\n// Map all available fields from import record\nif (importRecord.email) webhookPayload.email = importRecord.email;\nif (importRecord.first_name) webhookPayload.first_name = importRecord.first_name;\nif (importRecord.last_name) webhookPayload.last_name = importRecord.last_name;\nif (importRecord.full_name) webhookPayload.name = importRecord.full_name;\nif (importRecord.company) webhookPayload.company = importRecord.company;\nif (importRecord.title) webhookPayload.title = importRecord.title;\nif (importRecord.phone) webhookPayload.phone = importRecord.phone;\nif (importRecord.interested_in_coaching) webhookPayload.interested_in_coaching = importRecord.interested_in_coaching;\nif (importRecord.qualified_lead) webhookPayload.qualified_lead = importRecord.qualified_lead;\nif (importRecord.source) webhookPayload.source_form = importRecord.source;\nif (importRecord.linkedin_url) webhookPayload.linkedin_url = importRecord.linkedin_url;\n\n// Add import metadata\nwebhookPayload.import_batch = importRecord.import_batch || 'bulk_import';\nwebhookPayload.import_record_id = $json.id;\n\n// Store raw import data for debugging\nconst rawImportData = JSON.stringify(importRecord);\n\nreturn {\n  // Webhook format for processing pipeline\n  body: webhookPayload,\n  // Import tracking data\n  importRecordId: $json.id,\n  rawImportData: rawImportData\n};"
      }
    }
  ],
  "connections": {
    "Lead Import Trigger": {
      "main": [
        [
          {
            "node": "Filter Pending Only",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Pending Only": {
      "main": [
        [
          {
            "node": "Mark as Processing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mark as Processing": {
      "main": [
        [
          {
            "node": "Bulk Field Mapper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all",
    "saveManualExecutions": true,
    "saveExecutionProgress": true
  },
  "staticData": null,
  "meta": null,
  "pinData": null,
  "versionId": "e6383eea-8e82-45a2-aa99-dd167c744b5d",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-08-07T15:21:20.620Z",
      "updatedAt": "2025-08-07T15:21:20.620Z",
      "role": "workflow:owner",
      "workflowId": "Dz5u5qjKbzCEjqAH",
      "projectId": "wvkG5jFMc7QXvOh5",
      "project": {
        "createdAt": "2025-07-01T09:55:16.699Z",
        "updatedAt": "2025-07-01T09:55:19.189Z",
        "id": "wvkG5jFMc7QXvOh5",
        "name": "LATIF HORST <latifhorst@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "createdAt": "2025-07-01T09:55:16.699Z",
            "updatedAt": "2025-07-01T09:55:16.699Z",
            "role": "project:personalOwner",
            "userId": "29d0ac76-1b0e-4f0b-a9dd-b710d2476efa",
            "projectId": "wvkG5jFMc7QXvOh5",
            "user": {
              "createdAt": "2025-07-01T09:55:15.012Z",
              "updatedAt": "2025-09-03T22:00:13.000Z",
              "id": "29d0ac76-1b0e-4f0b-a9dd-b710d2476efa",
              "email": "latifhorst@gmail.com",
              "firstName": "LATIF",
              "lastName": "HORST",
              "personalizationAnswers": null,
              "settings": {
                "userActivated": true,
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "Zdpywk5ic1hYILgr",
                "userActivatedAt": 1751967003557,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1753035927344
                }
              },
              "role": "global:owner",
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-09-03",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": []
}
